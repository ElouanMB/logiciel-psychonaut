:root{
	--bg:#0b1021; --bg-alt:#0f172a; --surface:#0f1a37; --card:#101a34; --muted:#9aa4bd; --text:#e5e7eb; --primary:#3b82f6; --primary-600:#2563eb; --ring:#1f2937;
	--chip-druglab:#f59e0b; --chip-autre:#10b981; --chip-unknown:#6b7280;
}
*{box-sizing:border-box}
body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; padding: 0; color: var(--text); background: linear-gradient(180deg, var(--bg), var(--bg-alt)); }
a{ color: var(--primary); text-decoration: none; }
a:hover{ text-decoration: underline; }

.site-header{ display:flex; align-items:center; justify-content:space-between; padding: 12px 16px; background: #0c1328; border-bottom: 1px solid #0e1a3a; position: sticky; top:0; z-index: 10; }
.brand{ display:flex; align-items:center; gap:12px; }
.brand .logo{ height: 36px; width:auto; filter: drop-shadow(0 0 8px rgba(0,0,0,.35)); }
.brand-text .title{ font-weight: 700; letter-spacing: .2px; }
.brand-text .subtitle{ color: var(--muted); font-size: .9rem; }
.nav-actions .link{ margin-left: 12px; color: var(--text); opacity: .9; }
.nav-actions .link:hover{ opacity: 1; }

.hero{ position: relative; height: 180px; background: #0a1024 url('/ressources/banner.svg') center/cover no-repeat; display:flex; align-items:center; justify-content:center; }
.hero-overlay{ position:absolute; inset:0; background: radial-gradient(ellipse at center, rgba(8,12,32,.2), rgba(8,12,32,.75)); }
.hero-content{ position: relative; text-align:center; padding: 12px 16px; }
.hero-title{ margin: 0; font-size: 1.6rem; }
.hero-sub{ margin: 8px 0 0; color: var(--muted); }

/* Layout */
.container{ max-width: 1200px; margin: 0 auto; padding: 8px 12px 24px; }
.grid{ display: grid; grid-template-columns: 1fr; gap: 16px; }
@media (min-width: 980px){
	.grid{ grid-template-columns: 400px 1fr; }
}

.card { background: rgba(16,26,52,.75); backdrop-filter: blur(10px); margin: 16px; padding: 16px; border: 1px solid #1b2a55; border-radius: 14px; box-shadow: 0 8px 24px rgba(0,0,0,.28), 0 2px 8px rgba(0,0,0,.18); transition: transform .06s ease, box-shadow .2s ease, border-color .2s ease; }
.card:hover{ transform: translateY(-1px); box-shadow: 0 10px 30px rgba(0,0,0,.32), 0 3px 10px rgba(0,0,0,.2); border-color:#234089; }
.card-compact { align-self: start; }
label { display: block; margin: 8px 0; color: var(--muted); }
input { padding: 8px 10px; margin-left: 8px; background: #0c1330; color: var(--text); border:1px solid #1a2a55; border-radius: 6px; }
select { padding: 8px 10px; background: #0c1330; color: var(--text); border:1px solid #1a2a55; border-radius: 6px; }
.btn{ padding: 10px 14px; border-radius: 8px; border: 1px solid transparent; cursor: pointer; }
.btn-primary{ background: var(--primary); color: white; }
.btn-primary:hover{ background: var(--primary-600); }
.log { display:none; }
.run-status{ display: grid; gap: 8px; margin-top: 10px; }
.progress{ display:none; position: relative; height: 8px; background: #0c1330; border:1px solid #1a2a55; border-radius: 999px; overflow: hidden; }
.progress .bar{ position: absolute; inset: 0 auto 0 0; width: 0%; background: linear-gradient(90deg, var(--primary), var(--primary-600)); border-radius: inherit; transition: width .4s ease; }
.progress.error .bar{ background: linear-gradient(90deg, #ef4444, #dc2626); }
.muted { color: var(--muted); }
ul { margin: 6px 0 6px 20px; }

.files-header{ display:flex; align-items:center; justify-content:space-between; gap: 12px; }
.files-toolbar{ display:flex; align-items:center; gap: 8px; }
.files-toolbar input[type="search"]{ margin-left: 0; min-width: 200px; }

/* Stat chips */
.chip.info{ background: rgba(59,130,246,.15); color:#93c5fd; border-color: rgba(59,130,246,.3); }

.chip{ display:inline-block; padding:2px 8px; border-radius:999px; font-size:.78rem; line-height:1.6; border:1px solid rgba(255,255,255,.1); margin-left:6px; }
.chip.druglab{ background: rgba(250, 204, 21, .15); color:#fde68a; border-color:rgba(250, 204, 21, .35); }
.chip.autre{ background: rgba(16,185,129,.15); color:#34d399; border-color:rgba(16,185,129,.3); }
.chip.unknown{ background: rgba(107,114,128,.15); color:#9ca3af; border-color:rgba(107,114,128,.3); }
/* Labels sp√©cifiques */
.chip.atpidf{ background: rgba(239,68,68,.15); color:#fca5a5; border-color: rgba(239,68,68,.35); }
.chip.checklab{ background: rgba(16,185,129,.15); color:#34d399; border-color: rgba(16,185,129,.35); }
.chip.sintes{ background: rgba(107,114,128,.15); color:#d1d5db; border-color: rgba(107,114,128,.35); }

.summary{ margin: 8px 0 12px; color: var(--muted); }

/* Global stats band */
.stats-band{ display:flex; align-items:center; gap: 16px; padding: 10px 16px; background: rgba(14,22,48,.65); border-bottom:1px solid #1b2a55; border-top: 1px solid #0d1430; box-shadow: inset 0 1px 0 rgba(255,255,255,.02); }
.stats-band .pill{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background: #0c1330; border:1px solid #1a2a55; color: var(--text); font-weight: 600; }
.stats-band .muted{ margin-left: auto; }

/* Files list modern styling */
.files-list{ list-style: none; padding: 0; margin: 0; }
.file-item{ display:grid; grid-template-columns: 1fr auto; row-gap:8px; align-items:center; padding: 12px 14px; border:1px solid #1a2a55; border-radius: 12px; margin: 10px 0; background: rgba(12,19,48,.55); transition: background .2s, border-color .2s, transform .05s; }
.file-item:hover{ background: rgba(20,30,70,.6); border-color:#234089; }
.file-item:active{ transform: translateY(1px); }
.file-link{ color: var(--text); text-decoration: none; }
.file-link .name{ font-weight: 600; }
.file-actions{ display:flex; align-items:center; gap: 8px; grid-column: 2; }
.file-summary{ grid-column: 1 / -1; color: var(--muted); font-size:.9rem; }
.file-summary .label-chips{ display:flex; flex-wrap: wrap; gap: 6px; margin-top: 6px; }
.icon-btn{ display:inline-flex; align-items:center; justify-content:center; height: 36px; width: 36px; border-radius: 8px; background: #0c1330; border:1px solid #1a2a55; color: var(--text); cursor: pointer; }
.icon-btn:hover{ background: #0f1840; border-color:#24408a; }
.icon-btn.danger{ border-color:#5b1f1f; background:#1b0f12; }
.icon-btn.danger:hover{ border-color:#7c2d2d; background:#2a1217; }

/* Preview collapsible */
.preview{ grid-column: 1 / -1; background: rgba(8,14,32,.6); border:1px solid #1a2a55; border-radius: 10px; padding: 10px 12px; display:none; }
.preview.open{ display:block; }
.preview .kv{ display:flex; gap: 8px; flex-wrap: wrap; }
.preview .kv .pill{ background:#0c1330; border:1px solid #1a2a55; padding:4px 8px; border-radius: 999px; }

/* Details panel */
.details-panel{ background: rgba(16,26,52,.95); backdrop-filter: blur(10px); border: 1px solid #1b2a55; border-radius: 14px; padding: 20px; margin: 16px; box-shadow: 0 8px 24px rgba(0,0,0,.28); }
.details-header{ display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid #1a2a55; }
.details-header h2{ margin: 0; font-size: 1.3rem; }
.details-filters{ display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap; }
.details-filters select{ flex: 1; min-width: 180px; }
.details-content{ display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; max-height: 70vh; }

/* Thread categories */
.thread-category{ margin-bottom: 0; max-height: 70vh; overflow-y: auto; padding-right: 8px; }
.thread-category h3{ color: var(--text); font-size: 1.1rem; margin: 0 0 12px; padding-bottom: 8px; border-bottom: 1px solid #1a2a55; display: flex; align-items: center; gap: 8px; position: sticky; top: 0; background: rgba(16,26,52,.95); z-index: 1; }
.thread-category h3 .count{ color: var(--muted); font-size: 0.9rem; font-weight: 400; }
/* Custom scrollbar for categories */
.thread-category::-webkit-scrollbar{ width: 6px; }
.thread-category::-webkit-scrollbar-track{ background: rgba(12,19,48,.6); border-radius: 3px; }
.thread-category::-webkit-scrollbar-thumb{ background: rgba(59,130,246,.3); border-radius: 3px; }
.thread-category::-webkit-scrollbar-thumb:hover{ background: rgba(59,130,246,.5); }
.thread-category.empty{ display: flex; align-items: center; justify-content: center; color: var(--muted); font-size: 0.9rem; min-height: 200px; }
.thread-item{ background: rgba(12,19,48,.6); border: 1px solid #1a2a55; border-radius: 10px; padding: 12px 14px; margin: 8px 0; transition: background .2s, border-color .2s; }
.thread-item:hover{ background: rgba(20,30,70,.7); border-color: #234089; }
.thread-title{ font-weight: 600; font-size: 1rem; margin: 0 0 6px; }
.thread-title a{ color: var(--text); }
.thread-title a:hover{ color: var(--primary); }
.thread-meta{ display: flex; gap: 12px; flex-wrap: wrap; align-items: center; font-size: .85rem; color: var(--muted); margin: 6px 0; }
.thread-meta .meta-item{ display: flex; align-items: center; gap: 4px; }
.thread-meta .meta-item i{ width: 14px; height: 14px; }
.thread-identifiers{ margin-top: 8px; }
.thread-identifiers .identifier{ display: inline-flex; align-items: center; gap: 6px; padding: 4px 10px; margin: 4px 4px 4px 0; border-radius: 8px; font-size: .85rem; background: rgba(59,130,246,.1); border: 1px solid rgba(59,130,246,.3); }
.thread-identifiers .identifier.found{ background: rgba(16,185,129,.1); border-color: rgba(16,185,129,.3); color: #34d399; }
.thread-identifiers .identifier.notfound{ background: rgba(239,68,68,.1); border-color: rgba(239,68,68,.3); color: #fca5a5; }
.thread-identifiers .identifier a{ color: inherit; opacity: .9; }
.thread-identifiers .identifier a:hover{ opacity: 1; }
.status-badge{ display: inline-flex; align-items: center; gap: 4px; padding: 3px 8px; border-radius: 999px; font-size: .75rem; font-weight: 600; }
.status-badge.closed{ background: rgba(107,114,128,.15); color: #9ca3af; border: 1px solid rgba(107,114,128,.3); }
.status-badge.open{ background: rgba(16,185,129,.15); color: #34d399; border: 1px solid rgba(16,185,129,.3); }

/* Responsive: stack categories on small screens */
@media (max-width: 1200px) {
  .details-content{ grid-template-columns: 1fr; }
  .thread-category{ max-height: 50vh; }
}
